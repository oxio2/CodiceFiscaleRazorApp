@page "/"
@using CodiceFiscaleRazorApp.Services
@model CodiceFiscaleRazorApp.Pages.CodiceFiscaleModel
@{
    ViewData["Title"] = "Genera Codice Fiscale";
}

<h1>Modalità SSR</h1>
<form method="post" class="space-y-3" id="form-ssr">
    <div>
        <label asp-for="Cognome"></label>
        <input asp-for="Cognome" />
        <span asp-validation-for="Cognome"></span>
    </div>
    <div>
        <label asp-for="Nome"></label>
        <input asp-for="Nome" />
        <span asp-validation-for="Nome"></span>
    </div>
    <div>
        <label asp-for="DataNascita"></label>
        <input asp-for="DataNascita" type="date" />
        <span asp-validation-for="DataNascita"></span>
    </div>
    <div>
        <label asp-for="Comune"></label>
        <input asp-for="Comune" />
        <span asp-validation-for="Comune"></span>
    </div>
    <div>
        <label asp-for="Sesso"></label>
        <select asp-for="Sesso"
                asp-items="Html.GetEnumSelectList<CodiceFiscaleService.Sesso>()"></select>
        <span asp-validation-for="Sesso"></span>
    </div>

    <button type="submit">Calcola (SSR)</button>
</form>


@if (!string.IsNullOrEmpty(Model.CodiceFiscale))
{
    <div class="alert alert-success">
        <strong>Codice Fiscale:</strong> @Model.CodiceFiscale
    </div>
}

@if (!string.IsNullOrEmpty(Model.Errore))
{
    <div class="alert alert-danger">@Model.Errore</div>
}
